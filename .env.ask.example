# /ask Command Configuration
# Copy this file to .env and customize values

# ==========================================================================
# TIME WINDOWS
# ==========================================================================
ASK_DEFAULT_TIME_WINDOW=7d          # Default time window for news queries
ASK_MAX_TIME_WINDOW=1y              # Maximum allowed time window
ASK_ALLOW_CUSTOM_WINDOWS=true       # Allow users to specify custom windows

# ==========================================================================
# RETRIEVAL SETTINGS
# ==========================================================================
ASK_K_FINAL=10                      # Number of final results to return
ASK_MAX_K_FINAL=50                  # Maximum allowed k_final
ASK_USE_CACHE=false                 # Disable cache for fresh results

# ==========================================================================
# INTENT ROUTING
# ==========================================================================
ASK_INTENT_ROUTER_ENABLED=true      # Enable intent classification
ASK_INTENT_CONFIDENCE_THRESHOLD=0.5 # Minimum confidence for routing decision

# ==========================================================================
# FILTERING
# ==========================================================================
ASK_FILTER_OFFTOPIC_ENABLED=true    # Filter articles with low similarity
ASK_MIN_COSINE_THRESHOLD=0.28       # Minimum cosine similarity (0-1)
ASK_CATEGORY_PENALTIES_ENABLED=true # Apply penalties to sports/entertainment
ASK_DATE_PENALTIES_ENABLED=true     # Penalize articles without dates
ASK_DATE_PENALTY_FACTOR=0.3         # Multiplier for undated articles (0-1)

# ==========================================================================
# DOMAIN DIVERSITY
# ==========================================================================
ASK_DOMAIN_DIVERSITY_ENABLED=true   # Enforce domain diversity in results
ASK_MAX_PER_DOMAIN=2                # Max articles per domain in top-10
ASK_MMR_LAMBDA=0.7                  # MMR balance: relevance (1.0) vs diversity (0.0)

# ==========================================================================
# AUTO-RECOVERY
# ==========================================================================
ASK_AUTO_EXPAND_WINDOW=true         # Auto-expand window on empty results
ASK_MAX_EXPANSION_ATTEMPTS=5        # Maximum window expansion attempts

# ==========================================================================
# SCORING WEIGHTS (must sum to 1.0)
# ==========================================================================
ASK_SEMANTIC_WEIGHT=0.45            # Semantic similarity weight
ASK_FTS_WEIGHT=0.30                 # Full-text search weight
ASK_FRESHNESS_WEIGHT=0.20           # Freshness/recency weight
ASK_SOURCE_WEIGHT=0.05              # Source authority weight

# ==========================================================================
# GENERAL-QA MODE
# ==========================================================================
ASK_GENERAL_QA_MODEL=gpt-5-mini     # Model for general knowledge questions
ASK_GENERAL_QA_MAX_TOKENS=500       # Max tokens for general-QA responses

# ==========================================================================
# METRICS
# ==========================================================================
ASK_METRICS_ENABLED=true            # Enable metrics collection
ASK_LOG_METRICS_INTERVAL=300        # Log metrics summary every N seconds

# ==========================================================================
# FEATURE FLAGS
# ==========================================================================
ASK_EXPERIMENTAL_FEATURES=false     # Enable experimental features
ASK_DEBUG_MODE=false                # Enable debug logging

# ==========================================================================
# EXAMPLES
# ==========================================================================
# High precision, conservative filtering:
# ASK_MIN_COSINE_THRESHOLD=0.35
# ASK_DATE_PENALTY_FACTOR=0.1
# ASK_MAX_PER_DOMAIN=1

# High recall, less filtering:
# ASK_MIN_COSINE_THRESHOLD=0.20
# ASK_DATE_PENALTY_FACTOR=0.5
# ASK_MAX_PER_DOMAIN=3

# Favor freshness over relevance:
# ASK_FRESHNESS_WEIGHT=0.40
# ASK_SEMANTIC_WEIGHT=0.35
# ASK_FTS_WEIGHT=0.20
# ASK_SOURCE_WEIGHT=0.05
